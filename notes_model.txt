# 使用原有DB產生model
python manage.py inspectdb --database rmotelog > db1model.py
# 將新增的class copy 到原本的model.py
'''
model 中，managed = False表示只建管理用資料，不在default db建table
class Meta:
        managed = False
'''


# 產生migration script
python manage.py makemigrations
# 於admin package 中產生相對印的權限
python manage.py migrate (--database DATABASE) #指的是將DJANGO MODEL的資料(權限/META DATA)寫的那個DB
python manage.py migrate auth --database usertest # 只migrate auth app 的table
# order_by 中加 - 表示遞減
Entry.objects.filter(pub_date__year=2005).order_by('-pub_date', 'headline')

# __gte >= , __gt > ...
from django.db.models import Q, Max, Min

records = table.objects.using(db).filter(date__gte='20180703',  date__lte='20180704',col__in=['a','b']).order_by('-date')
#like select * from Ipmpc where date >= '20180703' and date <='20180704' and col in ('a','b') order by date desc

records = Netadaptermonitor.objects.using(db).filter(Q(detecttime__gte=20180703)).values('computername', 'username','networkadapter').annotate(orgnamepath=Max('orgnamepath')).annotate(s_time=Min('detecttime')).annotate(e_time=Max('detecttime'))    
#like select 'computername', 'username','networkadapter',Max('orgnamepath') as orgnamepath,Min('detecttime') as s_time,Max('detecttime') as e_time where  date >= '20180703' group by 'computername', 'username','networkadapter'
# values()  ==> group by  



# keyword : Field lookups


